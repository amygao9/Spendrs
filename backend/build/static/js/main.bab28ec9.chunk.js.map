{"version":3,"sources":["../node_modules/colorbrewer sync","config/History.js","assets/blob.svg","assets/3characters.svg","base_url.js","axios/auth.js","util/imageCompression.js","reducers/userDataReducer.js","reducers/loggedInReducer.js","Components/WelcomePage/Registration.js","Components/WelcomePage/WelcomePage.js","reducers/searchReducer.js","Components/Navbar/searchBar.js","Components/Navbar/Navbar.js","Components/Dashboard/ShareForm.js","axios/posts.js","reducers/postsReducer.js","constants.js","Components/Dashboard/Post.js","Components/Dashboard/Comments.js","Components/utils/TimeAgo.js","Components/Dashboard/Feed.js","Components/utils/utils.js","Components/Dashboard/Home.js","Components/Profile/ProfileFriends.js","Components/Profile/ProfileStats.js","Components/utils/EditModal.js","Components/Profile/ProfileInfo.js","Components/Profile/ProfilePicture.js","Components/Profile/ProfileDescription.js","Components/Profile/ProfilePosts.js","Components/Profile/Profile.js","Components/Analytics/PieChart.js","Components/Analytics/TimeSeries.js","Components/Analytics/Summary.js","Components/Analytics/Analytics.js","Components/Settings/SettingsModal.js","Components/Settings/DeleteAccountModal.js","Components/Settings/Settings.js","Components/Admin/User.js","axios/admin.js","Components/Admin/Admin.js","Components/Profile/OthersProfile.js","App.js","reportWebVitals.js","reducers/reducers.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","History","createBrowserHistory","BASE_URL","client","axios","create","interceptors","request","use","config","jwt","Cookies","get","headers","error","Promise","reject","response","res","err","status","remove","compressProfilePicture","imageFile","a","options","maxSizeMB","maxWidthOrHeight","useWebWorker","fileType","imageCompression","console","log","compressPostPicture","initialState","getUserData","dispatch","getState","user","type","payload","data","getOtherUserData","username","checkFollowing","result","following","updateUser","put","uploadProfilePic","image","compressedImage","picture","FormData","append","post","changePassword","oldPass","password","confirmPass","passwordStrength","patch","deleteUser","useState","delete","loggedIn","admin","login","set","signup","name","email","loggedInReducer","state","action","RegistrationModal","props","useDispatch","history","useHistory","setName","setEmail","setUsername","setPassword","setStrength","nameError","setNameError","emailError","setEmailError","usernameError","setUsernameError","passwordError","setPasswordError","errorMessage","setErrorMessage","handleSubmit","preventDefault","includes","push","Modal","show","onHide","handleClose","Header","closeButton","Title","Body","className","onSubmit","value","onChange","target","placeholder","style","width","margin","onChangeScore","WelcomePage","setShow","loginError","setLoginError","useForm","register","ref","onClick","Registration","src","blob","alt","threeCharacters","results","searchReducer","StatusString","statusString","search","length","SearchBar","focused","setFocused","useSelector","searchData","setSearch","useRef","useEffect","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","autoComplete","getSearchResult","onFocus","map","val","key","href","Navbar","links","open","setOpen","to","navLinks","Object","entries","link","activeClassName","getLinks","transitionName","transitionEnterTimeout","transitionLeaveTimeout","getSlide","ShareForm","addPost","updateData","price","desc","category","Card","Form","Group","Label","Control","required","controlId","as","rows","File","label","accept","feedbackTooltip","Button","variant","apiMakeComment","postId","comment","feedPosts","date","finishedLoading","getInitialFeed","num","posts","loadFeedContent","postsData","newPosts","concat","createPost","unshift","deletePost","postIndex","findIndex","p","_id","splice","postsReducer","userLinks","adminLinks","defaultAvatar","Post","loggedInUser","userData","alert","useAlert","deleteSelectedPost","success","position","url","itemName","color","title","attachedImage","itemLink","cardSize","showGraphic","maxLine","minLine","proxyUrl","description","Comment","author","Comments","likes","userProfile","input","setInput","comments","animation","heart","size","reverse","postsArray","index","i","likePost","background","borderWidth","onKeyDown","message","commentOnPost","MINUTE","SECOND","HOUR","DAY","MONTH","YEAR","getTimeAgoString","timestamp","elapsed","Date","now","getElapsedString","unit","round","Math","TimeAgo","datetime","string","setDateTime","setState","toISOString","this","dateTime","Component","Feed","postData","loadFunc","pageStart","loadMore","hasMore","loader","height","marginBottom","createdAt","displayMoney","toFixed","URLRegex","RegExp","connect","setLink","setDesc","setCategory","setPrice","file","setFile","loaded","setLoaded","match","form","Container","Row","files","ProfileFriends","handleclose","ListGroup","isAdmin","Item","ProfileStats","followers","showFollowers","setShowFollowers","showFollowings","setShowFollowings","Col","EditModal","Footer","submitChanges","ProfileInfo","editable","updatedUsername","setUpdatedUsername","setDescription","updatedDescription","setUpdatedDescription","showEditUsername","setShowEditUsername","showEditDescription","setShowEditDescription","update","handleCloseEditDescription","UploadPicture","ProfilePicture","ProfileDescription","canFollow","setEditable","currUser","triggerFollow","isFollowing","unfollowUser","followUser","some","f","followText","renderButton","ProfilePosts","slice","borderBottom","paddingTop","Profile","params","colors","SpendingPieGraph","stats","pieStatistics","setPieStatistics","undefined","selected","setSelected","hovered","setHovered","newStats","stat","entry","data-tip","data-for","fontFamily","fontSize","radius","PieChart","defaultProps","lineWidth","segmentsStyle","transition","cursor","segmentsShift","animate","percentage","getLabel","dataEntry","labelPosition","labelStyle","fill","opacity","pointerEvents","_","onMouseOver","onMouseOut","getContent","money","makeTooltipContent","convertTimeEvent","dataPoint","parse","TimeSeriesGraph","series","spendingData","columns","points","TimeSeries","convertToTimeSeries","sort","b","parentRef","graphWidth","setGraphWidth","offsetWidth","timeRange","range","format","timeAxisAngledLabels","window","innerWidth","timeAxisHeight","min","max","axis","avg","Summary","numItems","monthTimeSeries","setmonthTimeSeries","categories","setcategories","monthSpending","setmonthSpending","currentMonth","getMonth","toString","padStart","purchases","cat","month_spent","updatedAt","itemCategory","PasswordModal","oldpass","setOldPass","confirmpass","setConfirmPass","passError","setPassError","aria-labelledby","centered","DeleteModal","handleDelete","Settings","privacy","radioValue","setRadioValue","modalShow","setModalShow","deleteModalShow","setDeleteModalShow","logout","ButtonGroup","toggle","radio","idx","ToggleButton","checked","currentTarget","changePrivacy","User","getAllUsers","users","Admin","userList","setUsers","then","catch","setUser","setError","setFollowing","navBarlinks","setNavBarlinks","loadData","publicProfile","loadProfileContent","App","getData","authenticate","exact","path","component","Home","OthersProfile","Analytics","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","appReducer","combineReducers","rootReducer","composedEnhancer","composeWithDevTools","applyMiddleware","thunkMiddleware","store","createStore","alertOptions","positions","BOTTOM_CENTER","timeout","offset","transitions","SCALE","ReactDOM","render","template","AlertTemplate","getElementById"],"mappings":"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","file":"static/js/main.bab28ec9.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 279;","import { createBrowserHistory } from \"history\";\r\n\r\nconst History = new createBrowserHistory();\r\n\r\nexport default History;\r\n","export default __webpack_public_path__ + \"static/media/blob.87f92d6f.svg\";","export default __webpack_public_path__ + \"static/media/3characters.1b2f2a1f.svg\";","export const BASE_URL = \"http://localhost:3000\"","import axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst client = axios.create()\r\n\r\n// Interceptors take 2 parameters:\r\n// Axios calls the first function if the request succeeds\r\n// Axios calls the second function if the request fails\r\nclient.interceptors.request.use(\r\n  config => {\r\n    const jwt = Cookies.get(\"jwt\");\r\n    if (jwt) {\r\n      config.headers['Authorization'] = \"Bearer \" + jwt;\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    Promise.reject(error);\r\n  }\r\n)\r\n\r\nclient.interceptors.response.use(\r\n  res => res,\r\n  err => {\r\n    if (err.response && err.response.status === 401) {\r\n      Cookies.remove(\"jwt\");\r\n      throw new Error(\"auth invalid\");\r\n    } else {\r\n      throw err;\r\n    }\r\n});\r\n\r\nexport default client;","import imageCompression from \"browser-image-compression\";\r\n\r\nexport const compressProfilePicture = async (imageFile) => {\r\n  const options = {\r\n    maxSizeMB: 0.05,\r\n    maxWidthOrHeight: 400,\r\n    useWebWorker: true,\r\n    fileType: \"image/jpeg\",\r\n  }\r\n  try {\r\n    return await imageCompression(imageFile, options);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport const compressPostPicture = async (imageFile) => {\r\n  const options = {\r\n    maxSizeMB: 1,\r\n    maxWidthOrHeight: 1000,\r\n    useWebWorker: true,\r\n    fileType: \"image/jpeg\",\r\n  }\r\n  try {\r\n    return await imageCompression(imageFile, options);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}","import client from \"../axios/auth\";\r\nimport { BASE_URL } from \"../base_url\";\r\nimport {compressProfilePicture} from \"../util/imageCompression\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function userDataReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"userData/userStatus\": {\r\n      return action.payload;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const getUserData = async (dispatch, getState) => {\r\n  try {\r\n    const user = await client.get(BASE_URL + \"/api/users\");\r\n    dispatch({ type: \"userData/userStatus\", payload: user.data });\r\n    return user.data;\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const getOtherUserData = (username) => async (dispatch, getState) => {\r\n  try {\r\n    const user = await client.get(BASE_URL + `/api/users/profile/${username}`);\r\n    return user.data;\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n    return { err: err.response.data.err };\r\n  }\r\n};\r\n\r\nexport const checkFollowing = (username) => async (dispatch, getState) => {\r\n  try {\r\n    const result = await client.get(\r\n      BASE_URL + `/api/users/following/${username}`\r\n    );\r\n    return result.data.following;\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const updateUser = (data) => async (dispatch, getState) => {\r\n  try {\r\n    const result = await client.put(BASE_URL + \"/api/users/update\", data);\r\n    console.log(\"result.data :>> \", result.data);\r\n    dispatch({ type: \"userData/userStatus\", payload: result.data });\r\n    return result.data;\r\n  } catch (err) {\r\n    console.log(\"err.response.data.err :>> \", err.response.data.err);\r\n    return { err: err.response.data.err };\r\n  }\r\n};\r\n\r\nexport const uploadProfilePic = (image) => async (dispatch, getState) => {\r\n  try {\r\n    // Compress Image\r\n    const compressedImage = await compressProfilePicture(image);\r\n\r\n    const picture = new FormData();\r\n    picture.append(\"file\", compressedImage);\r\n    await client.post(BASE_URL + '/api/users/upload/profile_pic', picture);\r\n    dispatch(getUserData);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport const changePassword = (oldPass, password, confirmPass, passwordStrength) => async (dispatch, getState) => {\r\n  try {\r\n    const user = await client.patch(BASE_URL + '/api/users/changePassword', {\"oldPass\": oldPass, \"password\": password, \"confirmPass\": confirmPass, \"passwordStrength\": passwordStrength});\r\n\r\n    if (!user ||  typeof(user.data) == \"string\") {\r\n      console.log(user)\r\n      throw Error('Error: User received from API but not correctly formatted');\r\n    }\r\n    return user.data;\r\n  } catch (err) {\r\n    return { err: err.response.data.err };\r\n  }\r\n}\r\n\r\nexport const deleteUser = async (dispatch, useState) => {\r\n  try {\r\n    const user = await client.delete(BASE_URL + '/api/users/deleteUser');\r\n\r\n    if (!user || user.status !== 200 || typeof(user.data) == \"string\") {\r\n      console.log(user)\r\n      throw Error('Error: User received from API but not correctly formatted');\r\n    }\r\n    return user.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return { err: err };\r\n  }\r\n}\r\n\r\nexport const followUser = (user) => async (dispatch, useState) => {\r\n  try {\r\n    const result = await client.post(BASE_URL + '/api/users/follow', { id: user });\r\n    dispatch(getUserData);\r\n    return user.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return { err: err };\r\n  }\r\n}\r\n\r\n\r\nexport const unfollowUser = (user) => async (dispatch, useState) => {\r\n  try {\r\n    const result = await client.post(BASE_URL + '/api/users/unfollow', { id: user });\r\n    dispatch(getUserData);\r\n  } catch (err) {\r\n    console.log(err);\r\n    return { err: err };\r\n  }\r\n}\r\n\r\n","import axios from 'axios';\r\nimport Cookies from 'js-cookie'\r\nimport {BASE_URL} from '../base_url';\r\nimport { getUserData } from './userDataReducer';\r\n\r\n\r\nconst initialState = {\r\n  loggedIn: false,\r\n  admin: false\r\n};\r\n\r\nconst loggedInReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"loggedIn/login\":\r\n      return {\r\n        ...state,\r\n        loggedIn: true\r\n      }\r\n\r\n    case \"loggedIn/userType\":\r\n      return {\r\n        ...state,\r\n        admin: action.payload.admin\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\nexport const login = (username, password) => async (dispatch, getState) => {\r\n  try {\r\n    const user = await axios.post(BASE_URL + '/api/login', {\r\n      username, password\r\n    });\r\n\r\n    if (!user || user.status !== 200) {\r\n      throw Error('Unable to login');\r\n    }\r\n\r\n    Cookies.set('jwt', user.data.jwt);\r\n    if (!user.admin) {\r\n      dispatch({ type: 'loggedIn/login' });\r\n    }\r\n    else {\r\n      dispatch({ type: 'loggedIn/admin' });\r\n    }\r\n    \r\n    dispatch(getUserData);\r\n    \r\n    return user.data.admin ? \"admin\" : \"user\";\r\n  } catch (err) {\r\n    console.log('err :>> ', err.response.data.err);\r\n    return { err: err.response.data.err };\r\n  }\r\n}\r\n\r\nexport const signup = (name, email, username, password, passwordStrength) => async (dispatch, getState) => {\r\n  try {\r\n    const user = await axios.post(BASE_URL + '/api/signup', {\r\n        name,\r\n        email,\r\n        username,\r\n        password,\r\n        passwordStrength\r\n    });\r\n\r\n    if (!user || user.status !== 200 || typeof(user.data) == \"string\") {\r\n        throw Error('Could not create new user.');\r\n    }\r\n\r\n    Cookies.set('jwt', user.data.jwt);\r\n    dispatch({ type: 'loggedIn/login' });\r\n    dispatch(getUserData);\r\n  } catch (err) {\r\n    console.log(err.response.data.err);\r\n    return { err: err.response.data.err };\r\n  }\r\n}\r\n\r\n\r\nexport default loggedInReducer;","\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\n// import { apiSignup } from \"../../axios/home\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { signup } from '../../reducers/loggedInReducer';\r\nimport PasswordStrengthBar from 'react-password-strength-bar';\r\n\r\n\r\nfunction RegistrationModal(props) {\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordStrength, setStrength] = useState(0)\r\n\r\n  // Used to indicate to users about errors\r\n  const [nameError, setNameError] = useState(\"\");\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [usernameError, setUsernameError] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\")\r\n\r\n  function resetErrors() {\r\n    setNameError(\"\");\r\n    setEmailError(\"\");\r\n    setUsernameError(\"\");\r\n    setPasswordError(\"\");\r\n    setErrorMessage(\"\");\r\n  }\r\n\r\n  function setErrors(err) {\r\n    setErrorMessage(err);\r\n    if (err.includes(\"Name\")) setNameError(\"redErrorBorder\")\r\n    if (err.includes(\"Email\")) setEmailError(\"redErrorBorder\")\r\n    if (err.includes(\"Username\")) setUsernameError(\"redErrorBorder\")\r\n    if (err.includes(\"Password\")) setPasswordError(\"redErrorBorder\")\r\n\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    resetErrors();\r\n\r\n    const result = await dispatch(signup(name, email, username, password, passwordStrength));\r\n    console.log('result :>> ', result);\r\n    if (result && result.err) {\r\n      setErrors(result.err);\r\n      return;\r\n    }\r\n    history.push(\"/dashboard\");\r\n  }\r\n\r\n  return (\r\n    <Modal show={props.show} onHide={props.handleClose} id={\"registrationModal\"}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Create New Account</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <p className={\"redErrorText\"}>{errorMessage}</p>\r\n        <form onSubmit={e => { handleSubmit(e) }}>\r\n          <input className={\"inputBox \" + nameError} type=\"text\" name=\"name\" value={name} onChange={e => setName(e.target.value)} placeholder={\"Name\"}/>\r\n          <input className={\"inputBox \" + emailError} type=\"text\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} placeholder={\"Email\"}/>\r\n          <input className={\"inputBox \" + usernameError} type=\"text\" name=\"username\" value={username} onChange={e => setUsername(e.target.value)} placeholder={\"Username\"}/>\r\n          <input className={\"inputBox \" + passwordError} type=\"password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)} placeholder={\"Password\"}/>\r\n          <PasswordStrengthBar password={password} style={{width: '300px', margin: 'auto'}} onChangeScore={setStrength}/>\r\n          <input type=\"submit\" id=\"createAccBtn\" value=\"Create Account\" />\r\n        </form>\r\n\r\n       </Modal.Body>\r\n    </Modal>\r\n  );\r\n  }\r\n  \r\n  export default RegistrationModal;","import { useState } from 'react';\r\nimport * as React from \"react\";\r\nimport '../../styles/welcome.css';\r\nimport blob from '../../assets/blob.svg';\r\nimport threeCharacters from '../../assets/3characters.svg'\r\nimport RegistrationModal from './Registration';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { login } from '../../reducers/loggedInReducer';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction WelcomePage() {\r\n  const [show, setShow] = useState(false);\r\n  const [loginError, setLoginError] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const { register, handleSubmit } = useForm();\r\n  const history = useHistory();\r\n\r\n  async function onSubmit (data) {\r\n    const result = await dispatch(login(data.username, data.password));\r\n    if (result.err) {\r\n      setLoginError(result.err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id={\"welcomeBackground\"}>\r\n      <div id={\"leftSide\"}>\r\n        <div id={\"welcomeText\"}>\r\n          <h1 className=\"welcomeTitle\">\r\n            Welcome&nbsp;to<br/>Spendr\r\n          </h1>\r\n          <h3 className=\"welcomeSubTitle\">\r\n            Track your spendings <br/>\r\n            Share your cops\r\n          </h3>\r\n        </div>\r\n      </div>\r\n\r\n      <div id={'rightSide'}>\r\n        <div id={'loginCard'}>\r\n          <form id={\"loginForm\"} onSubmit={handleSubmit(onSubmit)}>\r\n            <input ref ={register} className=\"inputBox\" type=\"text\" name=\"username\" placeholder={\"Username\"}/>\r\n            <input ref ={register} className=\"inputBox\" type=\"password\" name=\"password\" placeholder={\"Password\"}/>\r\n            <p className={\"redErrorText\"}>{loginError}</p>\r\n            <input className=\"inputBox\" type={\"submit\"} id={\"loginBtn\"} value={\"Log In\"}/>\r\n          </form>\r\n          <button id={\"openRegistrationModal\"} onClick={handleShow}>Create New Account</button>\r\n          <RegistrationModal handleClose = {handleClose} show = {show}/>\r\n        </div>\r\n      </div>\r\n\r\n      <div id={'bottomArt'}>\r\n        <img src={blob} id={'blob'} alt=\"Background blob\"/>\r\n        <img src={threeCharacters} id={'threeCharacters'} alt=\"Three people\"/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WelcomePage;\r\n","import client from \"../axios/auth\";\r\nimport { BASE_URL } from \"../base_url\";\r\n\r\nconst initialState = {\r\n  results: [],\r\n};\r\n\r\nconst searchReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"search/updateResults\":\r\n      return {\r\n        results: action.results,\r\n      };\r\n\r\n    case \"search/clean\":\r\n      return {\r\n        results: [],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getSearchResult = (search) => async (dispatch, getState) => {\r\n  try {\r\n    const result = await client.get(BASE_URL + \"/api/users/findUser/\" + search);\r\n\r\n    dispatch({ type: \"search/updateResults\", results: result.data });\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n  }\r\n};\r\n\r\nexport default searchReducer;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport \"../../styles/Navbar.css\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getSearchResult } from \"../../reducers/searchReducer\";\r\n\r\nfunction StatusString(props) {\r\n  let statusString;\r\n  if (props.search === \"\") {\r\n    statusString = \"Start typing to search\";\r\n  } else if (props.results.length === 0) {\r\n    statusString = \"No results found\";\r\n  } else {\r\n    return null;\r\n  }\r\n  return <p className=\"searchText\">{statusString}</p>;\r\n}\r\n\r\nexport default function SearchBar(props) {\r\n  const [focused, setFocused] = useState(false);\r\n\r\n  // const [results, setResults] = useState([]);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const results = useSelector((state) => state.searchData.results);\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const ref = useRef(null);\r\n\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        setFocused(false);\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n\r\n  return (\r\n    <div ref={ref}>\r\n      <label className=\"searchBar\">\r\n        <input\r\n          autoComplete=\"off\"\r\n          id=\"navText\"\r\n          type=\"text\"\r\n          placeholder=\"Find Users\"\r\n          value={search}\r\n          onChange={(e) => {\r\n            if (e.target.value !== \"\") {\r\n              dispatch(getSearchResult(e.target.value));\r\n            } else {\r\n              dispatch(() => dispatch({ type: \"search/clean\" }));\r\n            }\r\n            setSearch(e.target.value);\r\n          }}\r\n          onFocus={() => setFocused(true)}\r\n        />\r\n      </label>\r\n      {focused && (\r\n        <div className=\"searchResults shadowSmall\">\r\n          <StatusString results={results} search={search} />\r\n          {results.map((val, key) => {\r\n            return (\r\n              <a className=\"searchUser\" key={key} href={\"/profile/\" + val}>\r\n                {val}\r\n              </a>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"../../styles/Navbar.css\";\r\nimport SearchBar from \"./searchBar\";\r\n\r\nimport { FaBars } from \"react-icons/fa\";\r\n\r\nexport default function Navbar(props) {\r\n  const links = props.links;\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const getSlide = () => {\r\n    const navLinks = Object.entries(links).map((link) => {\r\n      return (\r\n        <NavLink\r\n          key={link[0]}\r\n          to={link[0]}\r\n          className=\"popOutNavlink\"\r\n          activeClassName=\"popOutlinkActive\"\r\n        >\r\n          {link[1]}\r\n        </NavLink>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <CSSTransitionGroup\r\n        transitionName=\"side\"\r\n        transitionEnterTimeout={300}\r\n        transitionLeaveTimeout={300}\r\n      >\r\n        {open && (\r\n          <div className=\"popOutNav\">\r\n            <FaBars\r\n              className=\"faBars\"\r\n              onClick={() => {\r\n                setOpen(!open);\r\n              }}\r\n            />\r\n            {navLinks}\r\n          </div>\r\n        )}\r\n      </CSSTransitionGroup>\r\n    );\r\n  };\r\n\r\n  const getLinks = () => {\r\n    const navLinks = Object.entries(links).map((link) => {\r\n      return (\r\n        <NavLink\r\n          key={link[0]}\r\n          to={link[0]}\r\n          className=\"linkDefault\"\r\n          activeClassName=\"linkActive\"\r\n        >\r\n          {link[1]}\r\n        </NavLink>\r\n      );\r\n    });\r\n    return <div className=\"navBlock\">{navLinks}</div>;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <nav className=\"main\"></nav>\r\n      <div className=\"fixed shadowSmall\">\r\n        <nav className=\"main\">\r\n          <NavLink to=\"\" className=\"title\">\r\n            <h1>SpendR</h1>\r\n          </NavLink>\r\n          {!open && (\r\n            <FaBars\r\n              className=\"faBars\"\r\n              onClick={() => {\r\n                setOpen(!open);\r\n              }}\r\n            />\r\n          )}\r\n          <SearchBar />\r\n          {getLinks()}\r\n          {getSlide()}\r\n        </nav>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Card, Form, Button } from \"react-bootstrap\";\r\nimport '../../styles/home.css';\r\n\r\nexport default function ShareForm({ addPost, updateData, name, link, price, desc, category }) {\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Body>\r\n        <Card.Title>Share your cop</Card.Title>\r\n      </Card.Body>\r\n      <Card.Body>\r\n        <Form id=\"shareForm\">\r\n          <Form.Group>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control placeholder=\"Enter name\" onChange={(e) => updateData(e, \"name\")} value={name} required />\r\n          </Form.Group>\r\n\r\n          <Form.Group>\r\n            <Form.Label>Link</Form.Label>\r\n            <Form.Control placeholder=\"Enter link\" onChange={(e) => updateData(e, \"link\")} value={link} />\r\n          </Form.Group>\r\n\r\n          <Form.Group>\r\n            <Form.Label>Price</Form.Label>\r\n            <Form.Control type=\"number\" onChange={(e) => updateData(e, \"price\")} value={price} required />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n            <Form.Label>Caption</Form.Label>\r\n            <Form.Control as=\"textarea\" rows={3} placeholder=\"Enter caption here...\" onChange={(e) => updateData(e, \"desc\")} value={desc} />\r\n          </Form.Group>\r\n\r\n          <Form.Group>\r\n            <Form.Label>Category</Form.Label>\r\n            <Form.Control as=\"select\" onChange={(e) => updateData(e, \"category\")} value={category}>\r\n              <option>food</option>\r\n              <option>clothing</option>\r\n              <option>tech</option>\r\n              <option>games</option>\r\n              <option>misc</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group>\r\n            <Form.File\r\n              className=\"position-relative\"\r\n              name=\"file\"\r\n              label=\"Attach a Photo\"\r\n              onChange={(e) => updateData(e, \"file\")}\r\n              accept=\"image/*\"\r\n              feedbackTooltip\r\n            />\r\n          </Form.Group>\r\n\r\n          <Button variant=\"primary\" type=\"submit\" onClick={(e) => addPost(e)}>\r\n            Post!\r\n          </Button>\r\n        </Form>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n","import {BASE_URL} from \"../base_url\";\r\nimport client from \"./auth\";\r\n\r\nexport const apiPost = async (post) => {\r\n  try {\r\n    const result = await client.post(BASE_URL + '/api/posts', post);\r\n    console.log(result);\r\n  } catch (err) {\r\n    console.log(err.response.data.err)\r\n    throw err.response.data.err; // throw the response body\r\n  }\r\n}\r\n\r\nexport const apiGetAllUserPosts = async () => {\r\n  try {\r\n    const result = await client.get(BASE_URL + '/api/posts');\r\n    console.log(result.data);\r\n    return result.data\r\n  } catch (err) {\r\n    console.log(err.response.data.err)\r\n    throw err.response.data.err; // throw the response body\r\n  }\r\n}\r\n\r\nexport const apiMakeComment = async (postId, comment) => {\r\n  try {\r\n    console.log(\"comment \", postId, comment)\r\n    const result = await client.post(BASE_URL + `/api/posts/${postId}/comment`, {comment: comment});\r\n    console.log(result.data);\r\n    return result.data\r\n  } catch (err) {\r\n    console.log(err.response.data.err)\r\n    throw err.response.data.err; // throw the response body\r\n  }\r\n}","import client from \"../axios/auth\";\r\nimport { apiMakeComment } from \"../axios/posts\";\r\nimport { BASE_URL } from \"../base_url\";\r\nimport { getUserData } from \"./userDataReducer\";\r\n\r\nconst initialState = {\r\n  feedPosts: [],\r\n  date: null,\r\n  finishedLoading: false,\r\n};\r\n\r\nconst postsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"posts/updateFeed\":\r\n      return {\r\n        ...state,\r\n        feedPosts: action.payload.feedPosts,\r\n      };\r\n\r\n    case \"posts/updateDate\":\r\n      return {\r\n        ...state,\r\n        date: action.payload.date,\r\n      };\r\n\r\n    case \"posts/finishedLoading\":\r\n      return {\r\n        ...state,\r\n        finishedLoading: true\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport async function getInitialFeed(dispatch, getState) {\r\n  try {\r\n    const result = await client.post(BASE_URL + '/api/feed/newsfeed', {\r\n      num: 5\r\n    });\r\n\r\n    dispatch({\r\n      type: \"posts/updateFeed\",\r\n      payload: { feedPosts: result.data.posts },\r\n    });\r\n    dispatch({ type: \"posts/updateDate\", payload: { date: result.data.date } });\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n  }\r\n}\r\n\r\nexport async function loadFeedContent(dispatch, getState) {\r\n  // load 5 additional posts when called\r\n  try {\r\n    const state = getState();\r\n    const { feedPosts, date } = state.postsData;\r\n\r\n    const result = await client.post(BASE_URL + \"/api/feed/newsfeed\", {\r\n      num: 5,\r\n      date: date,\r\n    });\r\n\r\n    if (result.data.posts.length === 0) {\r\n      dispatch({ type: \"posts/finishedLoading\" });\r\n    }\r\n\r\n    const newPosts = feedPosts.concat(result.data.posts);\r\n    dispatch({ type: \"posts/updateFeed\", payload: { feedPosts: [...newPosts] } });\r\n    dispatch({ type: \"posts/updateDate\", payload: { date: result.data.date } });\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n  }\r\n}\r\n\r\nexport const createPost = (post) => async (dispatch, getState) => {\r\n  try {\r\n    const state = getState();\r\n    const { feedPosts } = state.postsData;\r\n\r\n    const result = await client.post(BASE_URL + \"/api/posts\", post);\r\n    feedPosts.unshift(result.data);\r\n\r\n    dispatch({ type: \"posts/updateFeed\", payload: { feedPosts: [...feedPosts] } });\r\n    dispatch(getUserData);\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n  }\r\n};\r\n\r\nexport const deletePost = (post) => async (dispatch, getState) => {\r\n  try {\r\n    const state = getState();\r\n    const { feedPosts } = state.postsData;\r\n    console.log('post :>> ', post);\r\n\r\n    await client.delete(BASE_URL + \"/api/posts/\" , {\r\n      data: {\r\n        post: post\r\n      }\r\n    });\r\n\r\n    const postIndex = feedPosts.findIndex(p => p._id === post);\r\n    feedPosts.splice(postIndex, 1);\r\n    console.log('feedPosts :>> ', feedPosts);\r\n\r\n    dispatch({ type: \"posts/updateFeed\", payload: { feedPosts: [...feedPosts] } });\r\n    dispatch(getUserData);\r\n    return \"Post successfully deleted!\";\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n    return \"Error deleting post.\";\r\n  }\r\n};\r\n\r\nexport const likePost = (post) => async (dispatch, getState) => {\r\n  try {\r\n    const state = getState();\r\n    const { feedPosts } = state.postsData;\r\n    const postsArray = feedPosts;\r\n\r\n    const result = await client.put(BASE_URL + \"/api/posts/like\", {\r\n      post: post,\r\n    });\r\n\r\n    let index = -1;\r\n    for (let i = 0; i < feedPosts.length; i++) {\r\n      if (feedPosts[i]._id === post) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (index === -1) {\r\n      return;\r\n    }\r\n\r\n    postsArray.splice(index, 1);\r\n    postsArray.splice(index, 0, result.data);\r\n\r\n    dispatch({ type: \"posts/updateFeed\", payload: { feedPosts: [...postsArray] } });\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n  }\r\n};\r\n\r\nexport const commentOnPost = (post, message) => async (dispatch, getState) => {\r\n  try {\r\n    const state = getState();\r\n    const { feedPosts } = state.postsData;\r\n    const postsArray = feedPosts;\r\n\r\n    const result = await apiMakeComment(post, message);\r\n\r\n    let index = -1;\r\n    for (let i = 0; i < feedPosts.length; i++) {\r\n      if (feedPosts[i]._id === post) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (index === -1) {\r\n      return;\r\n    }\r\n\r\n    postsArray.splice(index, 1);\r\n    postsArray.splice(index, 0, result);\r\n\r\n    dispatch({ type: \"posts/updateFeed\", payload: { feedPosts: [...postsArray] } });\r\n  } catch (err) {\r\n    console.log(\"err :>> \", err);\r\n  }\r\n};\r\n\r\nexport default postsReducer;\r\n","export const userLinks = {\r\n  \"/dashboard\": \"Feed\",\r\n  \"/analytics\": \"Analytics\",\r\n  \"/profile\": \"Profile\",\r\n  \"/settings\": \"Settings\",\r\n};\r\n\r\nexport const adminLinks = {\r\n  \"/admin\": \"Admin\",\r\n  \"/settings\": \"Settings\",\r\n};\r\n\r\nexport const defaultAvatar = \"https://i.redd.it/vtzsfo1nh8u41.png\"","import React from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/graphics.css';\r\nimport { ReactTinyLink } from 'react-tiny-link';\r\nimport { FaTrash } from \"react-icons/fa\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deletePost } from \"../../reducers/postsReducer\";\r\nimport {defaultAvatar} from \"../../constants\";\r\nimport { useAlert } from \"react-alert\";\r\n\r\nexport default function Post({ post }) {\r\n  const loggedInUser = useSelector(state => state.userData);\r\n  const user = post.user;\r\n  const dispatch = useDispatch();\r\n  const alert = useAlert();\r\n\r\n  const deleteSelectedPost = async () => {\r\n    const result = await dispatch(deletePost(post._id));\r\n    alert.success(result);\r\n  }\r\n  \r\n  return (\r\n    <div className=\"postContainer fadeIn\">\r\n      <div>\r\n        <img\r\n          className=\"profileImage\"\r\n          style={{position: \"absolute\"}}\r\n          alt=\"profile\"\r\n          src={post.user.image? user.image.url : defaultAvatar}\r\n        />\r\n        <div className={\"postHeader\"}>\r\n          <span className=\"bold\"> {user.name}</span> spent\r\n          <span className=\"bold\"> ${post.price}</span> on a\r\n          <span className=\"bold\"> {post.itemName}</span> \r\n          {\r\n            loggedInUser._id === post.user._id && \r\n            <span className=\"faTrashContainer\">\r\n              <FaTrash\r\n              className=\"faTrash\"\r\n              color={\"grey\"}\r\n              title={\"Delete Post\"}\r\n              onClick={() => {\r\n                deleteSelectedPost();\r\n              }}\r\n              />\r\n            </span>\r\n          }\r\n          <br/>\r\n        </div>\r\n      </div>\r\n      {post.attachedImage ?\r\n        <div className={\"postImageCard\"}>\r\n          <p className={\"postImageText\"}> Attached Photo: </p>\r\n          <div className={\"center\"}>\r\n            <img className=\"postImage\" alt=\"post\" src={post.attachedImage.url}/>\r\n          </div>\r\n        </div> : <></>\r\n      }\r\n\r\n      { post.itemLink && <ReactTinyLink\r\n        cardSize=\"medium\"\r\n        showGraphic={true}\r\n        maxLine={2}\r\n        minLine={1}\r\n        url={post.itemLink}\r\n        proxyUrl={\"https://thingproxy.freeboard.io/fetch\"}  // This proxy may break in the future.\r\n      />}\r\n      <div className={\"postCaption\"}>{post.description}</div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"../../styles/comments.css\";\r\nimport \"../../styles/graphics.css\";\r\nimport UseAnimations from \"react-useanimations\";\r\nimport heart from \"react-useanimations/lib/heart\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { likePost, commentOnPost } from \"../../reducers/postsReducer\";\r\nimport {defaultAvatar} from \"../../constants\";\r\n// import { apiMakeComment } from \"../../axios/posts\";\r\n\r\nfunction Comment({ comment }) {\r\n  return (\r\n    <div className=\"commentContainer\">\r\n      <div className=\"imageContainer\">\r\n        <img\r\n          className=\"profileImage\"\r\n          alt=\"profile\"\r\n          src={\r\n            comment.author?.image?.url || defaultAvatar\r\n          }\r\n        />\r\n      </div>\r\n      <div className=\"textContainer\">\r\n        <span className=\"commentName\"> {comment.author.name} </span>\r\n        <div className=\"commentTextContainer\">{comment.comment}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Comments({ post, user }) {\r\n  let status = \"\";\r\n  if (post) {\r\n    if (post.likes.length === 1) {\r\n      status = post.likes[0] + \" liked this.\";\r\n    } else if (post.likes.length > 1) {\r\n      status =\r\n        post.likes[0] +\r\n        \" and \" +\r\n        (post.likes.length - 1) +\r\n        \" others liked this. \";\r\n    }\r\n  }\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userProfile = user.image ? user.image.url : defaultAvatar;\r\n\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  const comments = post.comments;\r\n  // if (post.itemName == \"tacobell\") {\r\n  //   console.log(user.username, post.likes);\r\n  // }\r\n  return (\r\n    <div className=\"mainContainer fadeIn\">\r\n      <div className=\"likesContainer\">{status}</div>\r\n      <div className=\"likesButtonContainer\">\r\n        <UseAnimations\r\n          animation={heart}\r\n          size={40}\r\n          // strokeColor={\"inherit\"}\r\n          reverse={post.likes.includes(user.username)}\r\n          onClick={() => {\r\n            dispatch(likePost(post._id));\r\n          }}\r\n        />\r\n        <button\r\n  style={{background: \"transparent\", borderWidth: \"0\"}}\r\n  />\r\n      </div>\r\n      <div className=\"commentsContainer\">\r\n        {comments.map((comment, index) => (\r\n          <Comment key={index} comment={comment} />\r\n        ))}\r\n      </div>\r\n      <div className=\"commentsInputContainer\">\r\n        <div className=\"imageContainer\">\r\n          <img className=\"profileImage\" alt=\"profile\" src={userProfile} />\r\n        </div>\r\n        <input\r\n          placeholder=\"write your comment\"\r\n          value={input}\r\n          onChange={(e) => {\r\n            setInput(e.target.value);\r\n          }}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\" && input !== \"\") {\r\n              dispatch(commentOnPost(post._id, input));\r\n              setInput(\"\");\r\n              // console.log(\"input \" + input);\r\n              // apiMakeComment(post._id, input);\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comments;\r\n","import React, {Component} from 'react';\r\n\r\n// This component was from https://gist.github.com/WebMaestroFr/dc75df7ff1fd9f78a081cf1c58fd17a8 to display timestamps.\r\n\r\nconst SECOND = 1000,\r\n    MINUTE = SECOND * 60,\r\n    HOUR = MINUTE * 60,\r\n    DAY = HOUR * 24,\r\n    MONTH = DAY * 30,\r\n    YEAR = DAY * 365;\r\n\r\nexport const getTimeAgoString = (timestamp) => {\r\n    const elapsed = Date.now() - timestamp,\r\n        getElapsedString = (value, unit) => {\r\n            const round = Math.round(elapsed / value);\r\n            return `${round} ${unit}${round > 1\r\n                ? 's'\r\n                : ''} ago`;\r\n        };\r\n    if (elapsed < MINUTE) {\r\n        return getElapsedString(SECOND, 'second');\r\n    }\r\n    if (elapsed < HOUR) {\r\n        return getElapsedString(MINUTE, 'minute');\r\n    }\r\n    if (elapsed < DAY) {\r\n        return getElapsedString(HOUR, 'hour');\r\n    }\r\n    if (elapsed < MONTH) {\r\n        return getElapsedString(DAY, 'day');\r\n    }\r\n    if (elapsed < YEAR) {\r\n        return getElapsedString(MONTH, 'month');\r\n    }\r\n    return getElapsedString(YEAR, 'year');\r\n};\r\n\r\nexport default class TimeAgo extends Component {\r\n\r\n    state = {\r\n        datetime: null,\r\n        string: \"\"\r\n    };\r\n\r\n    setDateTime = ({timestamp}) => {\r\n        const date = new Date(timestamp);\r\n        this.setState({datetime: date.toISOString(), string: getTimeAgoString(date)});\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setDateTime(this.props);\r\n    }\r\n\r\n    componentDidUpdate(props) {\r\n        this.setDateTime(props);\r\n    }\r\n\r\n    shouldComponentUpdate(props, {datetime}) {\r\n        return datetime !== this.state.datetime;\r\n    }\r\n\r\n    render() {\r\n        const {datetime, string} = this.state;\r\n        return <time className={'postTime'} dateTime={datetime}>{string}</time>;\r\n    }\r\n}","import React from \"react\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport \"../../styles/home.css\";\r\nimport Post from \"./Post\";\r\nimport Comments from \"./Comments\";\r\nimport TimeAgo from \"../utils/TimeAgo\";\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loadFeedContent } from \"../../reducers/postsReducer\";\r\n\r\nexport default function Feed({ postData, user, finishedLoading }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const loadFunc = () => {\r\n    dispatch(loadFeedContent);\r\n  }\r\n\r\n  const getFeedPosts = () => {\r\n    return (\r\n      <InfiniteScroll\r\n        pageStart={0}\r\n        loadMore={loadFunc}\r\n        hasMore={!finishedLoading}\r\n        loader={<h3 className=\"loader\" key={0}>Loading ...</h3>}\r\n      >\r\n        {\r\n          postData.map((post, index) => {\r\n            return (\r\n              <LazyLoad height={200} style={{ marginBottom: \"30px\" }} key={index}>\r\n                <TimeAgo timestamp={post.createdAt}/>\r\n                <div className={\"feedItemContainer spendrCard shadowMedium\"}>\r\n                  <Post post={post} />\r\n                  <Comments post={post} user={user} key={post.id} />\r\n                </div>\r\n              </LazyLoad>\r\n            );\r\n          })\r\n        }\r\n      </InfiniteScroll>\r\n    )\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Your Feed</h1>\r\n      { postData.length === 0 ? <h2>No posts. Go follow someone to see their posts!</h2> : getFeedPosts()}\r\n    </div>\r\n  );\r\n}\r\n","\r\nexport const displayMoney = (price) => {\r\n  return (Math.round(price * 100) / 100).toFixed(2);\r\n}\r\n\r\nconst URLRegexPattern = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/gi;\r\nexport const URLRegex = new RegExp(URLRegexPattern);\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport \"../../styles/home.css\";\r\nimport ShareForm from \"./ShareForm\";\r\nimport {Container, Row} from \"react-bootstrap\";\r\nimport \"../../styles/home.css\";\r\nimport Feed from \"./Feed\";\r\nimport { userLinks } from \"../../constants\";\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport { getInitialFeed, createPost } from '../../reducers/postsReducer';\r\nimport { URLRegex } from \"../utils/utils\";\r\nimport { useAlert } from 'react-alert'\r\nimport {compressPostPicture} from \"../../util/imageCompression\";\r\n\r\nfunction Home(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [category, setCategory] = useState(\"misc\");\r\n  const [price, setPrice] = useState(0);\r\n  const [file, setFile] = useState(null);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const user = props.user;\r\n  const posts = props.posts;\r\n  const finishedLoading = props.finishedLoading;\r\n  const dispatch = useDispatch();\r\n  const alert = useAlert();\r\n\r\n  useEffect(() => {\r\n    dispatch(getInitialFeed);\r\n    setLoaded(true);\r\n  }, [dispatch])\r\n\r\n  // Pass this into form component. Used to update our states.\r\n  const updateData = (e, type) => {\r\n    if (type === \"name\") {\r\n      setName(e.target.value);\r\n    } else if (type === \"link\") {\r\n      setLink(e.target.value);\r\n    } else if (type === \"price\") {\r\n      setPrice(e.target.value);\r\n    } else if (type === \"desc\") {\r\n      setDesc(e.target.value);\r\n    } else if (type === \"category\") {\r\n      setCategory(e.target.value);\r\n    } else if (type === \"file\") {\r\n      setFile(e.target.files[0])\r\n    }\r\n  };\r\n\r\n  const addPost = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (name === \"\") {\r\n      alert.error(\"Name can't be blank.\");\r\n      return;\r\n    }\r\n\r\n    if (price < 0) {\r\n      alert.error(\"Price cannot be less than 0.\");\r\n      return;\r\n    }\r\n\r\n    if (link.length !== 0) {\r\n      if (!link.match(URLRegex)) {\r\n        alert.error(\"Not a valid website URL.\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Phase 2 api stuff\r\n    const form = new FormData()\r\n    const compressedImage = await compressPostPicture(file);\r\n    form.append(\"file\", compressedImage)\r\n    form.append(\"itemName\", name)\r\n    form.append(\"itemLink\", link)\r\n    form.append(\"itemCategory\", category)\r\n    form.append(\"description\", desc)\r\n    form.append(\"price\", price)\r\n\r\n    try{\r\n      await dispatch(createPost(form));\r\n      alert.success(\"Post created!\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  if (!loaded) return (<div className=\"home\"> <Navbar links={userLinks} /> </div>)\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <Navbar links={userLinks} />\r\n      <Container className=\"homeContainer\">\r\n        <Row>\r\n          <div id=\"shareContainer\">\r\n            <ShareForm\r\n              addPost={(e) => addPost(e)}\r\n              updateData={(e, type) => updateData(e, type)}\r\n              name={name}\r\n              link={link}\r\n              price={price}\r\n              category={category}\r\n              desc={desc}\r\n            />\r\n          </div>\r\n          <div id=\"feedContainer\">\r\n            {/* we need to feed in the user we are logged in as */}\r\n            <Feed postData={posts} user={user} finishedLoading={finishedLoading} />\r\n          </div>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { \r\n    user: state.userData,\r\n    posts: state.postsData.feedPosts,\r\n    finishedLoading: state.postsData.finishedLoading\r\n   };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Home);\r\n","import React from \"react\";\r\nimport { Modal, ListGroup } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction ProfileFriends(props) {\r\n    const getList = () => {\r\n        return props.data.map((user, index) => {\r\n          if (props.isAdmin) {\r\n            return  <ListGroup.Item key={index}>\r\n                      {user.name}\r\n                  </ListGroup.Item>\r\n          }\r\n          else {\r\n            return  <ListGroup.Item key={index}>\r\n                    <Link to={`/profile/${user.username}`}>\r\n                      {user.name}\r\n                    </Link>\r\n                  </ListGroup.Item>\r\n          }\r\n        })\r\n      }\r\n    return (\r\n        <Modal show={props.show} onHide={props.handleclose} className = \"modalContainer\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Followers</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <ListGroup>\r\n            {getList()}\r\n        </ListGroup>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n\r\n  \r\n  export default ProfileFriends;","import React, { useState } from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/profile.css';\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport ProfileFriends from './ProfileFriends';\r\n\r\nfunction ProfileStats({ user }) {\r\n  const [followers] = useState(user.followers)\r\n  const [following] = useState(user.following)\r\n  const [posts] = useState(user.posts)\r\n  const [showFollowers, setShowFollowers] = useState(false);\r\n  const closeFollowers = () => setShowFollowers(false);\r\n  const openFollowers = () => setShowFollowers(true);\r\n\r\n  const [showFollowings, setShowFollowings] = useState(false);\r\n  const closeFollowings = () => setShowFollowings(false);\r\n  const openFollowings = () => setShowFollowings(true);\r\n\r\n  return (\r\n      <Row className=\"profileStatsContainer\">\r\n        <Col>\r\n          <div className=\"profileStatsNumber\">{posts.length}</div>\r\n          <div>Posts</div>\r\n        </Col>\r\n        <Col onClick={openFollowers} className=\"clickable\">\r\n          <div className=\"profileStatsNumber\">{followers ? followers.length : 0}</div>\r\n          <div>Followers</div>\r\n        </Col>\r\n        <Col onClick={openFollowings} className=\"clickable\">\r\n          <div className=\"profileStatsNumber\">{following ? following.length : 0}</div>\r\n          <div>Following</div>\r\n        </Col>\r\n        <ProfileFriends data = {followers} handleclose = {closeFollowers} show = {showFollowers}/>\r\n        <ProfileFriends data = {following} handleclose = {closeFollowings} show = {showFollowings}/>\r\n      </Row>\r\n  );\r\n}\r\n\r\nexport default ProfileStats;","import React from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/profile.css';\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\nfunction EditModal({name, input, show, handleClose, value, onChange, handleSubmit}) {\r\n\r\n  const submitChanges = (e, name) => {\r\n    handleClose(true);\r\n    handleSubmit(e, name);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Modal className=\"modalContainer\" show={show} onHide={handleClose} animation={true}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Edit {name}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {name}\r\n          { \r\n            input === \"input\" ? <input value={value} onChange={onChange} />\r\n            : <textarea value={value} onChange={onChange} />\r\n          }\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => handleClose(false)}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={(e) => submitChanges(e, name)}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditModal;","import React, { useState } from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/profile.css';\r\nimport { Row } from \"react-bootstrap\";\r\nimport EditModal from \"../utils/EditModal\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateUser } from \"../../reducers/userDataReducer\";\r\nimport { useAlert } from \"react-alert\";\r\n\r\nfunction ProfileInfo({ editable, user }) {\r\n\r\n  const [username, setUsername] = useState(user[\"username\"]);\r\n  const [updatedUsername, setUpdatedUsername] = useState(username);\r\n  const [description, setDescription] = useState(user[\"description\"]);\r\n  const [updatedDescription, setUpdatedDescription] = useState(description);\r\n\r\n  const [showEditUsername, setShowEditUsername] = useState(false);\r\n  const [showEditDescription, setShowEditDescription] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const alert = useAlert();\r\n\r\n  const handleCloseEditUsername = (update) => {\r\n    setShowEditUsername(false);\r\n    if (update) {\r\n      setUsername(updatedUsername);\r\n    }\r\n  };\r\n  const handleCloseEditDescription = (update) => {\r\n    setShowEditDescription(false);\r\n    if (update) {\r\n      setDescription(updatedDescription);\r\n    }\r\n  };\r\n  const handleShowEditUsername = () => setShowEditUsername(true);\r\n  const handleShowEditDescription = () => setShowEditDescription(true);\r\n\r\n  const changeUpdatedUsername = (event) => { setUpdatedUsername(event.target.value) };\r\n  const changeUpdatedDescription = (event) => { setUpdatedDescription(event.target.value) };\r\n\r\n  const handleSubmit = async (e, name) => {\r\n    e.preventDefault();\r\n    if (name === \"Username\") {\r\n      const result = await dispatch(updateUser({username: updatedUsername}));\r\n      if (result.err) {\r\n        alert.error(result.err);\r\n      }\r\n      setUsername(updatedUsername);\r\n    } else if (name === \"Description\") {\r\n      dispatch(updateUser({description: updatedDescription}));\r\n      setDescription(updatedDescription);\r\n    } \r\n  }\r\n\r\n  return (\r\n    <div className=\"infoContainer\">\r\n      <Row className=\"nameContainer\">\r\n        <div className=\"bold profileName\">{user[\"name\"]}</div>\r\n        <div className=\"grey\">@{user[\"username\"]}</div>\r\n      </Row>\r\n      {\r\n        editable && <Row>\r\n          <div className=\"edit\" onClick={handleShowEditUsername}>Edit Username</div>\r\n          <EditModal\r\n            name=\"Username\"\r\n            input=\"input\"\r\n            show={showEditUsername}\r\n            handleClose={handleCloseEditUsername}\r\n            value={updatedUsername}\r\n            onChange={changeUpdatedUsername}\r\n            handleSubmit={handleSubmit}\r\n          />\r\n        </Row>\r\n      }\r\n      \r\n      <Row className=\"descriptionContainer\">\r\n        <div>\r\n          {user[\"description\"]}\r\n        </div>\r\n      </Row>\r\n      {\r\n        editable && <Row>\r\n          <div className=\"edit\" onClick={handleShowEditDescription}>Edit Description</div>\r\n          <EditModal\r\n            name=\"Description\"\r\n            input=\"text\"\r\n            show={showEditDescription}\r\n            handleClose={(update) => handleCloseEditDescription(update)}\r\n            value={updatedDescription}\r\n            onChange={changeUpdatedDescription}\r\n          />\r\n        </Row>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileInfo;","import React, {useState} from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/profile.css';\r\nimport { uploadProfilePic } from \"../../reducers/userDataReducer\";\r\nimport {Modal} from \"react-bootstrap\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {defaultAvatar} from \"../../constants\";\r\n\r\nfunction ProfilePicture({ editable, user }) {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  if (editable) return (\r\n    <div>\r\n      <img src={user.image? user.image.url : defaultAvatar}\r\n           alt=\"User's profile avatar\"\r\n           className=\"profilePicture shadowSmall\"\r\n      />\r\n      <div onClick={handleShow} className={\"profilePictureHover\"}>Change Photo</div>\r\n      <UploadPicture show={show} handleClose={handleClose}/>\r\n    </div>\r\n    );\r\n\r\n  if (!editable) return (\r\n    <img src={user.image? user.image.url : defaultAvatar} alt=\"User\" className=\"profilePicture shadowSmall\"/>\r\n  );\r\n}\r\n\r\nfunction UploadPicture ({show, handleClose}) {\r\n  const dispatch = useDispatch();\r\n\r\n  async function uploadPicture(event) {\r\n    event.preventDefault();\r\n    const imageFile = event.target.image.files[0];\r\n    dispatch(uploadProfilePic(imageFile));\r\n    handleClose();\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose} className={\"modalContainer\"}>\r\n      <div id={\"uploadPhotoModal\"}>\r\n      <form className=\"image-form\" onSubmit={uploadPicture}>\r\n        <div className=\"image-form__field\">\r\n          <label>Image:</label>\r\n          <input name=\"image\" type=\"file\" accept=\"image/*\"/>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n        >\r\n          Upload\r\n        </button>\r\n      </form>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ProfilePicture;","import React, {useState} from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/profile.css';\r\nimport {Button, Container} from \"react-bootstrap\";\r\nimport ProfileStats from \"./ProfileStats\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport ProfilePicture from \"./ProfilePicture\";\r\nimport {AiFillEdit} from \"react-icons/all\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { followUser, unfollowUser } from \"../../reducers/userDataReducer\";\r\n\r\nfunction ProfileDescription({ user, loggedIn = true, canFollow}) {\r\n\r\n  const [editable, setEditable] = useState(false);\r\n  const currUser = useSelector(state => state.userData);\r\n  const dispatch = useDispatch();\r\n\r\n  const triggerFollow = (isFollowing) => {\r\n    if (isFollowing) {\r\n      dispatch(unfollowUser(user._id))\r\n    } else {\r\n      dispatch(followUser(user._id))\r\n    }\r\n  }\r\n\r\n  const renderButton = () => {\r\n    const isFollowing = user.followers.some(f => {\r\n      return f._id === currUser._id;\r\n    })\r\n    const followText = isFollowing ? \"Unfollow\" : \"Follow\";\r\n\r\n    return (\r\n      <Button onClick={() => triggerFollow(isFollowing)}>\r\n        { followText }\r\n      </Button>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"profileContainer shadowMedium\">\r\n      <ProfilePicture editable={loggedIn} user={user}/>\r\n      {loggedIn?\r\n        <div className={\"editProfileButton\"} onClick={() => setEditable(!editable)}>\r\n          <AiFillEdit size={\"1.5em\"} color={\"grey\"} title={\"Toggle Edit Profile\"}/>\r\n          {/*<span className=\"tooltipBlack\">Toggle Edit Profile Mode</span>*/}\r\n        </div> : <></>}\r\n\r\n      <Container>\r\n        <ProfileStats user={user}/>\r\n        <ProfileInfo editable={editable} user={user} />\r\n        { canFollow ? renderButton() :<></> }\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileDescription;","import React, {useState} from \"react\";\r\nimport LazyLoad from 'react-lazyload';\r\nimport '../../styles/profile.css';\r\nimport Post from \"../Dashboard/Post\";\r\n\r\n\r\nfunction ProfilePosts({ user }) {\r\n  const [posts, setPosts] = useState(false);\r\n  const getFeedPosts = () => {\r\n    if (user.posts.length == 0) {\r\n      console.log(user.posts.length)\r\n      return <h3> No Posts have been posted. </h3>\r\n    }\r\n    return user.posts.slice(0).reverse().map((post, index) => {\r\n      return <LazyLoad key={index} height={200}>\r\n        <div style={{borderBottom:\"1px solid lightgrey\", paddingTop:\"5px\"}}>\r\n          <Post key={index} user={user} post={post}/>\r\n        </div>\r\n      </LazyLoad>\r\n    })\r\n  }\r\n  return (\r\n    <div className=\"profilePosts shadowMedium\">\r\n      <h1 className=\"bold profileName\"> Posts</h1>\r\n      {getFeedPosts()}\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfilePosts;","import React, {useEffect, useState} from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport '../../styles/home.css';\r\nimport ProfileDescription from \"./ProfileDescription\";\r\nimport ProfilePosts from \"./ProfilePosts\";\r\nimport { userLinks } from \"../../constants\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\n\r\nfunction Profile({match:{params:{username}}}) {\r\n  const [loaded, setLoaded] = useState(false);\r\n  const user = useSelector(state => state.userData);\r\n\r\n  useEffect( () => {\r\n    if (user && Object.keys(user).length > 0) {\r\n      console.log(\"useeffect user \", user)\r\n      setLoaded(true)\r\n    }\r\n  }, [user])\r\n\r\n\r\n  if (!loaded) {\r\n    return (<div className='home'> <Navbar links={userLinks} /> </div>)\r\n  }\r\n\r\n  return (\r\n    <div className='home'>\r\n      <Navbar links={userLinks} />\r\n      <ProfileDescription user={user}/>\r\n      <ProfilePosts user={user} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React, { useEffect, useState } from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/analytics.css';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { PieChart } from \"react-minimal-pie-chart\";\r\nimport { displayMoney } from \"../utils/utils\";\r\n\r\nconst colors = ['#ffe6b3', '#ffb3d1', '#b3ecff ', '#99ff99', '#ffff99', '#99ffcc', '#ff99e6', '#FFB6B6', '#6A2135', '#FF3F96']\r\n\r\nfunction SpendingPieGraph(props) {\r\n  const stats = props.stats;\r\n  const [pieStatistics, setPieStatistics] = useState([]);\r\n  const [selected, setSelected] = useState(undefined);\r\n  const [hovered, setHovered] = useState(undefined);\r\n  const lineWidth = 60;\r\n\r\n  useEffect(() => {\r\n    const newStats = Object.keys(stats).map((stat, index) => {\r\n      return {\r\n        title: stat,\r\n        label: stat,\r\n        value: stats[stat],\r\n        color: colors[index]\r\n      };\r\n    });\r\n    setPieStatistics(newStats);\r\n  }, [stats])\r\n\r\n  const data = pieStatistics.map((entry, i) => {\r\n    if (hovered === i) {\r\n      return {\r\n        ...entry,\r\n        color: 'grey',\r\n        title: entry.title\r\n      };\r\n    }\r\n    return entry;\r\n  });\r\n\r\n  const getLabel = (data) => {\r\n    const label = data.title + \"\\n\" + Math.round(data.percentage) + '%'\r\n    return label\r\n  }\r\n\r\n  function makeTooltipContent(entry) {\r\n    const money = displayMoney(entry.value);\r\n    return `You have spent $${money} on ${entry.title} this month.`;\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <div className=\"pieContainer spendrCard shadowMedium\" data-tip=\"\" data-for=\"chart\">\r\n        <h2>\r\n          Your Spending Distribution\r\n        </h2>\r\n        <PieChart\r\n          style={{\r\n            fontFamily:\r\n              '\"Nunito Sans\", -apple-system, Helvetica, Arial, sans-serif',\r\n            fontSize: '4px',\r\n            color: \"white\"\r\n          }}\r\n          data={data}\r\n          radius={PieChart.defaultProps.radius - 6}\r\n          lineWidth={60}\r\n          segmentsStyle={{ transition: 'stroke .3s', cursor: 'pointer' }}\r\n          segmentsShift={(index) => (index === selected ? 6 : 1)}\r\n          animate\r\n          label={({ dataEntry }) => getLabel(dataEntry)}\r\n          labelPosition={100 - lineWidth / 2}\r\n          labelStyle={{\r\n            fill: '#000',\r\n            opacity: 0.9,\r\n            pointerEvents: 'none',\r\n          }}\r\n          onClick={(_, index) => {\r\n            setSelected(index === selected ? undefined : index);\r\n          }}\r\n          onMouseOver={(_, index) => {\r\n            setHovered(index);\r\n          }}\r\n          onMouseOut={() => {\r\n            setHovered(undefined);\r\n          }}\r\n        />\r\n        <ReactTooltip\r\n          id=\"chart\"\r\n          getContent={() =>\r\n            typeof hovered === 'number' ? makeTooltipContent(data[hovered]) : null\r\n          }\r\n        />\r\n      </div>\r\n    </div>\r\n    \r\n\r\n  );\r\n}\r\n\r\nexport default SpendingPieGraph;","import React, {useEffect, useRef, useState} from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/analytics.css';\r\nimport {\r\n  Charts,\r\n  ChartContainer,\r\n  ChartRow,\r\n  YAxis,\r\n  LineChart,\r\n  Baseline\r\n} from \"react-timeseries-charts\";\r\nimport { TimeSeries } from \"pondjs\";\r\n\r\nconst convertTimeEvent = (data) => {\r\n  const events = data.map(dataPoint => {\r\n    return [\r\n      Date.parse(dataPoint[0]), dataPoint[1]\r\n    ]\r\n  });\r\n  return events;\r\n}\r\n\r\nconst convertToTimeSeries = (data) => {\r\n  const spendingData = {\r\n    name: \"Spending\",\r\n    columns: [\"time\", \"value\"],\r\n    points: convertTimeEvent(data)\r\n  }\r\n  return new TimeSeries(spendingData);\r\n}\r\n\r\nfunction TimeSeriesGraph(props) {\r\n  const stats = props.stats;\r\n  const sortedStats = stats.sort(function(a, b) {\r\n    const date1 = Date.parse(a[0]);\r\n    const date2 = Date.parse(b[0]);\r\n    return date1 - date2;\r\n  })\r\n  const series = convertToTimeSeries(sortedStats);\r\n  const parentRef = useRef(null);\r\n  const [graphWidth, setGraphWidth] = useState(500);\r\n\r\n  useEffect ( () => {\r\n    if(parentRef.current){\r\n      setGraphWidth(parentRef.current.offsetWidth)\r\n    }\r\n  }, [parentRef]);\r\n\r\n  return (\r\n    <div className=\"seriesContainer spendrCard shadowMedium\">\r\n      <h2>\r\n        Your Spending Over The Past Month\r\n      </h2>\r\n      <div className=\"chartContainer\" ref = { parentRef }>\r\n        <ChartContainer timeRange={series.range()}\r\n                        format=\"%b %d\"\r\n                        timeAxisAngledLabels={window.innerWidth <= 500}\r\n                        timeAxisHeight={65}\r\n                        width={graphWidth}>\r\n          <ChartRow height=\"200\">\r\n              <YAxis\r\n                  id=\"price\"\r\n                  label=\"Price ($)\"\r\n                  min={series.min()} max={series.max()}\r\n                  format=\"$,.2f\"\r\n                  width=\"50\"/>\r\n              <Charts>\r\n                  <LineChart axis=\"price\" series={series}/>\r\n                  <Baseline axis=\"price\" value={series.avg()} label=\"Avg\"/>\r\n              </Charts>\r\n          </ChartRow>\r\n        </ChartContainer>\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default TimeSeriesGraph;","import React from \"react\";\r\nimport '../../styles/home.css';\r\nimport { displayMoney } from \"../utils/utils\";\r\n\r\n\r\nfunction Summary(props) {\r\n  return (\r\n    <div className='summaryContainer spendrCard shadowMedium'>\r\n      <h2>Summary</h2>\r\n      <div>This month you have spent ${displayMoney(props.stats)} on {props.numItems} items.</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Summary;","import React, {useEffect, useState} from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport '../../styles/home.css';\r\nimport { userLinks } from \"../../constants\";\r\nimport SpendingPieGraph from \"./PieChart\";\r\nimport TimeSeriesGraph from \"./TimeSeries\";\r\nimport Summary from \"./Summary\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction Analytics(props) {\r\n  const [monthTimeSeries, setmonthTimeSeries] = useState([])\r\n  const [categories, setcategories] = useState([])\r\n  const [monthSpending, setmonthSpending] = useState(0)\r\n  const [loaded, setLoaded] = useState(false);\r\n  let date = new Date();\r\n  let currentMonth = (date.getMonth() + 1).toString().padStart(2,0);\r\n  const user = props.user;\r\n\r\n  useEffect( () => {\r\n    if (!user || Object.keys(user).length === 0) {\r\n      return;\r\n    }\r\n    let purchases = [[user.createdAt, 0]]\r\n    let cat = {}\r\n    let month_spent = 0\r\n    for (let post in user.posts) {\r\n      purchases.push([user.posts[post].updatedAt, user.posts[post].price])\r\n      if (user.posts[post].itemCategory === \"\") {\r\n        user.posts[post].itemCategory = \"misc\"\r\n      }\r\n      if (cat[user.posts[post].itemCategory]) {\r\n        cat[user.posts[post].itemCategory] += user.posts[post].price\r\n      }\r\n      else {\r\n        cat[user.posts[post].itemCategory] = user.posts[post].price\r\n      }\r\n      \r\n      if (user.posts[post].updatedAt.slice(5,7) === currentMonth) {\r\n        month_spent += user.posts[post].price\r\n      }\r\n        \r\n    }\r\n    setmonthSpending(month_spent)\r\n    setmonthTimeSeries(purchases)\r\n    setcategories(cat)\r\n    setLoaded(true);\r\n      \r\n  }, [user, currentMonth])\r\n\r\n  if (!loaded) {\r\n    return (<div className='home'> <Navbar links={userLinks} /> </div>)\r\n  }\r\n  return (\r\n    <div className='home'>\r\n      <Navbar links={userLinks} />\r\n      <Container>\r\n        <div className={\"flexContainer\"}>  {/*this class will allow mobile responsiveness*/}\r\n          <div className={\"flexCol\"}>\r\n            <Summary stats={monthSpending} numItems={monthTimeSeries.length} />\r\n            <TimeSeriesGraph stats={monthTimeSeries} />\r\n          </div>\r\n          <div className={\"flexCol\"}>\r\n            <SpendingPieGraph stats={categories} />\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log('state.userData :>> ', state.userData);\r\n  return { \r\n    user: state.userData\r\n   };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Analytics);","import React, { useState } from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/profile.css';\r\nimport { Modal } from \"react-bootstrap\";\r\nimport PasswordStrengthBar from 'react-password-strength-bar';\r\nimport { changePassword } from '../../reducers/userDataReducer';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useAlert } from \"react-alert\";\r\n\r\nfunction PasswordModal(props) {\r\n    const [oldpass, setOldPass] = useState(\"\");\r\n    const [confirmpass, setConfirmPass] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [passwordStrength, setStrength] = useState(0);\r\n    const [passError, setPassError] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n\r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      console.log('password :>> ', password);\r\n      const result = await dispatch(changePassword(oldpass, password, confirmpass, passwordStrength));\r\n      if (result && result.err) {\r\n        setPassError(result.err);\r\n      } else {\r\n        alert.success(\"Change password successful!\");\r\n      }\r\n    }\r\n    return (\r\n      <Modal\r\n        {... props}\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Reset Password\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <h5>Please enter old password to reset password</h5>\r\n          \r\n            <form onSubmit={e => { handleSubmit(e) }}>\r\n            <input className={\"inputBox \" } type=\"password\" name=\"password\" value={oldpass} onChange={e => setOldPass(e.target.value)} placeholder={\"Old Password\"}/>\r\n            <input className={\"inputBox \" } type=\"password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)} placeholder={\"New Password\"}/>\r\n            <input className={\"inputBox \" } type=\"password\" name=\"password\" value={confirmpass} onChange={e => setConfirmPass(e.target.value)} placeholder={\"Confirm New Password\"}/>\r\n            <PasswordStrengthBar password={password} style={{width: '300px', margin: 'auto'}} onChangeScore={setStrength}/>\r\n            <p className={\"redErrorText\"}>{passError}</p>\r\n            <input type=\"submit\" id=\"createAccBtn\" value=\"Reset Password\" />\r\n            </form>\r\n          \r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n}\r\n\r\nexport default PasswordModal;","import React from \"react\";\r\nimport '../../styles/home.css';\r\nimport '../../styles/profile.css';\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport {deleteUser} from \"../../reducers/userDataReducer\";\r\nimport Cookies from 'js-cookie';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAlert } from \"react-alert\";\r\n\r\nfunction DeleteModal(props) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const alert = useAlert();\r\n\r\n  const handleDelete = async () => {\r\n    const result = await dispatch(deleteUser);\r\n    if (result && result.err) {\r\n      alert.error(\"Error deleting user!\");\r\n      return;\r\n    }\r\n    Cookies.remove('jwt');\r\n    dispatch({ type: 'home/logout' });\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      {...props}\r\n\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Delete Account\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <h5>Please confirm to delete this account. This action cannot be undone.</h5>\r\n        \r\n        <Button className=\"settingsButton\" onClick={() => handleDelete()}>Delete</Button>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default DeleteModal;","import React, { useEffect, useState } from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport '../../styles/settings.css';\r\nimport '../../styles/home.css';\r\nimport { userLinks, adminLinks } from \"../../constants\";\r\nimport { Button, ButtonGroup, ToggleButton} from \"react-bootstrap\";\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateUser } from \"../../reducers/userDataReducer\";\r\nimport PasswordModal from \"./SettingsModal\"\r\nimport DeleteModal from \"./DeleteAccountModal\"\r\nimport { useAlert } from \"react-alert\";\r\n\r\nfunction Settings() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const alert = useAlert();\r\n  \r\n  const user = useSelector(state => state.userData);\r\n  const [radioValue, setRadioValue] = useState(user.privacy);\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [deleteModalShow, setDeleteModalShow] = useState(false);\r\n  const [loaded, setLoaded] = useState(false)\r\n  const radios = [\r\n    { name: 'Private', value: 'Private' },\r\n    { name: 'Friends Only', value: 'Friends Only' },\r\n    { name: 'Public', value: 'Public' },\r\n  ];\r\n\r\n  useEffect( () => {\r\n    if (!user || Object.keys(user).length === 0) {\r\n      return;\r\n    }\r\n    setRadioValue(user.privacy)\r\n    setLoaded(true);\r\n      \r\n  }, [user])\r\n\r\n  const logout = () => {\r\n    Cookies.remove('jwt');\r\n    dispatch({ type: 'home/logout' });\r\n    history.push(\"/\");\r\n  }\r\n\r\n  const changePrivacy = (e) => {\r\n    const result = dispatch(updateUser({privacy: e.currentTarget.value}));\r\n      if (result.err) {\r\n        alert.error(result.err);\r\n      }\r\n      setRadioValue(e.currentTarget.value)\r\n  }\r\n  if (!loaded) {\r\n    return (<div className='home'> <Navbar links={userLinks} /> </div>)\r\n  } \r\n  if (user.admin) {\r\n    return (\r\n      <div>\r\n      <div className='settingsContainer'>\r\n        <Navbar links={adminLinks} />\r\n        <h3 className = \"headers\"> Admin Account</h3>\r\n        <div id = \"users\" className=\"list-group-item shadowSmall\">\r\n                \r\n                  <h5 className=\"mb-\">{user.name}</h5>\r\n                  <p className=\"mb-1\">Username: @{user.username}</p>\r\n                  <p className=\"mb-1\">Email: {user.email}</p>\r\n                  <p className=\"mb-1\">Date Registered: {user.createdAt.slice(0,10)}</p>\r\n                  \r\n        </div>\r\n\r\n        <h3 className = \"headers\">Account</h3>\r\n        <div className=\"list-group-item shadowSmall\">\r\n          <div className=\"settingsInfoContainer\">\r\n            <span> Reset Password </span> \r\n            <Button className=\"settingsButton\" onClick={() => setModalShow(true)}> Reset </Button>\r\n            <PasswordModal\r\n              show={modalShow}\r\n              onHide={() => setModalShow(false)}\r\n            />\r\n            <br/>\r\n            \r\n          </div>\r\n        </div>\r\n        <div className=\"list-group-item\">\r\n          <Button className=\"settingsButton\" onClick={() => logout()}>Logout</Button>\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n    )\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='settingsContainer'>\r\n        <Navbar links={userLinks} />\r\n        <h3 className = \"headers\"> Profile Information</h3>\r\n        <div id = \"users\" className=\"list-group-item shadowSmall\">\r\n                  <Link to={`/profile`}>\r\n                      <h5 className=\"mb-\">{user.name}</h5>\r\n                  </Link>\r\n                  <p className=\"mb-1\">Username: @{user.username}</p>\r\n                  <p className=\"mb-1\">Email: {user.email}</p>\r\n                  <p className=\"mb-1\">Date Registered: {user.createdAt.slice(0,10)}</p>\r\n                  {/* <Button onClick={() => props.handleDelete(user.username)} className=\"btn-default\" id = \"deleteButton\"> Delete user</Button> */}\r\n        </div>\r\n\r\n        <h3 className = \"headers\">Preferences</h3>\r\n        <div className=\"list-group-item shadowSmall\">\r\n          <h5> Post Privacy </h5>\r\n          <span> Who can see your posts: </span>\r\n            <ButtonGroup toggle className = \"selectionButtons\">\r\n              {radios.map((radio, idx) => (\r\n                <ToggleButton\r\n                  key={idx}\r\n                  type=\"radio\" \r\n                  variant=\"light\"\r\n                  name=\"radio\"\r\n                  value={radio.value}\r\n                  checked={radioValue === radio.value}\r\n                  onChange={e => changePrivacy(e)}\r\n                  id = \"selectionButtons\"\r\n                >\r\n                  {radio.name}\r\n                </ToggleButton>\r\n              ))}\r\n            </ButtonGroup>\r\n        </div>\r\n\r\n        <h3 className = \"headers\">Account</h3>\r\n        <div className=\"list-group-item shadowSmall\">\r\n          <div className=\"settingsInfoContainer\">\r\n            <span> Reset Password </span> \r\n            <Button className=\"settingsButton\"  onClick={() => setModalShow(true)}> Reset </Button>\r\n            <PasswordModal\r\n              show={modalShow}\r\n              onHide={() => setModalShow(false)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"settingsInfoContainer\">\r\n            <span> Delete Account </span> \r\n            <Button className=\"settingsButton\" id = \"deleteButton\" onClick={() => setDeleteModalShow(true)}>Delete</Button> <br></br>\r\n            <DeleteModal\r\n              show={deleteModalShow}\r\n              onHide={() => setDeleteModalShow(false)}\r\n            />\r\n          </div>\r\n          \r\n        </div>\r\n        <div className=\"list-group-item shadowSmall\">\r\n          <Button className=\"settingsButton btn-default\" onClick={() => logout()}>Logout</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default Settings;\r\n","import * as React from \"react\";\r\nimport '../../styles/admin.css';\r\nimport { useState } from 'react';\r\nimport { Button, Container } from \"react-bootstrap\";\r\nfunction User(props) {\r\n    const user = props.user\r\n\r\n    return (\r\n        <Container>\r\n            <div id = \"users\" className=\"list-group-item d-flex  align-items-center\" >\r\n                <div id = \"userInfo\"  href = {\"/profile/\"+ user.username}>\r\n                    <h5  className=\"mb-1\">{user.name}</h5>\r\n                    <p className=\"mb-1\">Username: {user.username}</p>\r\n                    <p className=\"mb-1\">Email: {user.email}</p>\r\n                    <p className=\"mb-1\">Register Date: {user.createdAt.slice(0,10)}</p>\r\n                </div>\r\n                <div>\r\n                    <Button className=\"btn-default\" id = \"profileButton\" href = {\"/profile/\"+ user.username}> View Profile</Button>\r\n                    <Button onClick={() => props.handleDelete(user.username)} className=\"btn-default\" id = \"deleteButton\"> Delete user</Button>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n        </Container>\r\n        \r\n    );\r\n}\r\nexport default User;","import { BASE_URL } from '../base_url';\r\nimport client from './auth';\r\n\r\nexport const getAllUsers = async () => {\r\n  try {\r\n    \r\n    const users = await client.get(BASE_URL + '/api/admin/allUsers');\r\n    if (!users) {\r\n      console.log(users)\r\n      throw Error('Error: User received from API but not correctly formatted');\r\n    }\r\n    console.log(users.data)\r\n    return users.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n    alert(\"Error loading user data!\")\r\n    // throw err;\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (username) => {\r\n  try {\r\n    const user = await client.delete(BASE_URL + `/api/admin/deleteUser/${username}`);\r\n    if (!user) {\r\n      console.log(user)\r\n      throw Error('Error: User received from API but not correctly formatted');\r\n    }\r\n    console.log(user.data)\r\n    return user.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n    alert(\"Error loading user data!\")\r\n    // throw err;\r\n  }\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport '../../styles/admin.css';\r\nimport { adminLinks } from \"../../constants\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport User from \"./User\";\r\nimport { ListGroup } from \"react-bootstrap\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from \"react-redux\";\r\nimport {getAllUsers, deleteUser} from \"../../axios/admin\";\r\n\r\nfunction Admin() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [loaded, setLoaded] = useState(false)\r\n    const [userList, setUsers] = useState([])\r\n    useEffect( () => {\r\n        getAllUsers().then((users) => {\r\n            console.log(\"admin users: \", users)\r\n            setUsers(users)\r\n            \r\n          }).catch(err => {\r\n            console.log(\"err: \" + err)\r\n        })\r\n        setLoaded(true);\r\n          \r\n    }, [])\r\n\r\n    \r\n    function handleDelete(username) {\r\n        deleteUser(username).then((user) => {\r\n            console.log(\"deleted: \", user)\r\n            getAllUsers().then((users) => {\r\n                console.log(\"admin users: \", users)\r\n                setUsers(users)\r\n                \r\n              }).catch(err => {\r\n                console.log(\"err: \" + err)\r\n            })\r\n            \r\n          }).catch(err => {\r\n            console.log(\"err: \" + err)\r\n        })\r\n    }\r\n    \r\n    const getUsers = () => {\r\n        console.log(\"userlist :>> \",userList)\r\n        return userList.map(user => {\r\n            if (!user.admin) {\r\n                return <User key = {user.username} user = {user} handleDelete = {handleDelete}/>\r\n            }\r\n        })\r\n      }\r\n    if (!loaded) {\r\n        return (<div className='admin'> <Navbar links={adminLinks} /> </div>)\r\n    } \r\n    return (\r\n        <div className =  \"admin\">\r\n            <Navbar links={adminLinks} />\r\n            <div className = \"userContainer\">\r\n                <h3>Registered Users</h3>\r\n                <ListGroup>\r\n                    {getUsers()}\r\n                </ListGroup>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Admin;","import React, {useEffect, useState} from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport '../../styles/home.css';\r\nimport ProfileDescription from \"./ProfileDescription\";\r\nimport ProfilePosts from \"./ProfilePosts\";\r\nimport { userLinks, adminLinks } from \"../../constants\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport { checkFollowing, getOtherUserData } from \"../../reducers/userDataReducer\";\r\n\r\n\r\nfunction Profile({match:{params:{username}}}) {\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [error, setError] = useState(false);\r\n  const [following, setFollowing] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const [navBarlinks, setNavBarlinks] = useState(userLinks);\r\n  const currUser = useSelector(state => state.userData);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      const data = await dispatch(getOtherUserData(username));\r\n      if (data.err) {\r\n        setError(true);\r\n      } else{\r\n        setUser(data)\r\n        const isFollowing = await dispatch(checkFollowing(data.username));\r\n        setFollowing(isFollowing);\r\n      }\r\n      setLoaded(true);\r\n    }\r\n    if (currUser && Object.keys(currUser).length > 0) {\r\n      loadData();\r\n      if (currUser.admin) {\r\n        setNavBarlinks(adminLinks)\r\n      }\r\n    }\r\n\r\n  }, [username, dispatch, currUser])\r\n\r\n  const loadProfileContent = () => {\r\n    let publicProfile = true;\r\n    if (currUser.admin || currUser._id === user._id) {\r\n      publicProfile = true;\r\n    }\r\n    else if (user.privacy === \"Private\") {\r\n      publicProfile = false;\r\n    } else if (user.privacy === \"Friends Only\") {\r\n      publicProfile = following;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <ProfileDescription user={user} loggedIn={false} canFollow={currUser._id !== user._id & !currUser.admin}/>\r\n        {\r\n          publicProfile ?\r\n          <ProfilePosts user={user} /> :\r\n          <div className='center' id = 'centerHeader'> \r\n            <h3> Private Profile </h3> \r\n            { (user.privacy === \"Private\") ? \r\n            <p> User in private mode. </p> :\r\n            <p> Please follow to view posts. </p> \r\n            }\r\n            \r\n          </div>\r\n        }\r\n      </>\r\n    )\r\n  }\r\n\r\n\r\n  if (!loaded) {\r\n    return (<div className='home'> <Navbar links={navBarlinks} /> </div>)\r\n  }\r\n\r\n  return (\r\n    <div className='home'>\r\n      <Navbar links={navBarlinks} />\r\n      {\r\n        error ?\r\n        <div className='center' id = 'centerHeader'> <h1> Profile does not exist. </h1> </div>\r\n         :\r\n        loadProfileContent()\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React, { useEffect } from \"react\";\r\nimport { Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport history from \"./config/History\";\r\n\r\nimport WelcomePage from \"./Components/WelcomePage/WelcomePage\";\r\nimport Home from \"./Components/Dashboard/Home\";\r\nimport Profile from \"./Components/Profile/Profile\";\r\nimport Analytics from \"./Components/Analytics/Analytics\";\r\nimport Settings from \"./Components/Settings/Settings\";\r\nimport Admin from \"./Components/Admin/Admin\";\r\nimport Cookies from 'js-cookie'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\nimport { getUserData } from \"./reducers/userDataReducer\";\r\nimport OthersProfile from \"./Components/Profile/OthersProfile\";\r\n\r\nfunction App() {\r\n  const loggedIn = useSelector(state => state.loggedIn.loggedIn);\r\n  const userData = useSelector(state => state.userData);\r\n  console.log('userData :>> ', userData);\r\n  const dispatch = useDispatch();\r\n  \r\n  useEffect(() => {\r\n    const logout = () => {\r\n      Cookies.remove('jwt');\r\n      dispatch({ type: 'home/logout' });\r\n      history.push(\"/\");\r\n    }\r\n\r\n    const authenticate = () => {\r\n      let jwt = Cookies.get('jwt');\r\n      if (jwt && jwt !== undefined) {\r\n        dispatch({ type: 'loggedIn/login'});\r\n      } else {\r\n        console.log(\"LOGGING OUT\");\r\n        logout();\r\n      }\r\n    }\r\n\r\n    const getData = async () => {\r\n      await dispatch(getUserData);\r\n    }\r\n\r\n    try {\r\n      authenticate();\r\n      getData().catch(err => {\r\n        logout();\r\n      });\r\n    } catch (err) {\r\n      console.log('err :>> ', err);\r\n      logout();\r\n    }\r\n  }, [dispatch]);\r\n\r\n\r\n\r\n\r\n  return (\r\n    <Router history={history}>\r\n      <div className=\"app\">\r\n        {\r\n          loggedIn & !userData.admin ? \r\n          <Switch>\r\n            <Route exact path=\"/dashboard\" component={Home} />\r\n            <Route exact path=\"/profile\" component={Profile} />\r\n            <Route exact path=\"/profile/:username\" component={OthersProfile} />\r\n            <Route exact path=\"/analytics\" component={Analytics} />\r\n            <Route exact path=\"/settings\" component={Settings} />\r\n            <Route exact path=\"/admin\" component={Admin} />\r\n            <Route exact path=\"/\" component={Home} />\r\n          </Switch> :\r\n          loggedIn & userData.admin ?\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Admin} />\r\n            <Route exact path=\"/admin\" component={Admin} />\r\n            <Route exact path=\"/settings\" component={Settings} />\r\n            <Route exact path=\"/profile/:username\" component={OthersProfile} />\r\n          </Switch>\r\n          :\r\n          <Switch>\r\n            <Route path=\"/\" component={WelcomePage} />\r\n          </Switch>\r\n        }\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\r\n\r\nimport loggedInReducer from \"./loggedInReducer\";\r\nimport postsReducer from \"./postsReducer\";\r\nimport userDataReducer from \"./userDataReducer\";\r\nimport searchReducer from \"./searchReducer\";\r\n\r\nconst appReducer = combineReducers({\r\n  loggedIn: loggedInReducer,\r\n  userData: userDataReducer,\r\n  postsData: postsReducer,\r\n  searchData: searchReducer,\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n  if (action.type === \"home/logout\") {\r\n    state = undefined;\r\n  }\r\n\r\n  return appReducer(state, action);\r\n};\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { Provider } from 'react-redux';\r\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert'\r\nimport AlertTemplate from 'react-alert-template-basic';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport rootReducer from './reducers/reducers';\r\n\r\nconst composedEnhancer = composeWithDevTools(applyMiddleware(thunkMiddleware))\r\nconst store = createStore(rootReducer, composedEnhancer);\r\n\r\nconst alertOptions = {\r\n  // you can also just use 'bottom center'\r\n  position: positions.BOTTOM_CENTER,\r\n  timeout: 5000,\r\n  offset: '30px',\r\n  // you can also just use 'scale'\r\n  transition: transitions.SCALE\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <AlertProvider template={AlertTemplate} {...alertOptions} >\r\n      <App />\r\n    </AlertProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}